"use strict";!function(){function e(){a.className="hidden",localStorage.setItem("zombie",a.className)}var o=localStorage.getItem("zombie"),a=document.querySelector(".js-zombie"),t=document.querySelector(".js-heading");TweenMax.fromTo(t,1,{alpha:0},{alpha:1,yoyo:!0,repeat:-1}),o?a.className="hidden":TweenMax.from(a,1,{x:"700",rotate:"45deg",yoyo:!0,ease:Power2.easeInOut,repeat:4,onComplete:e})}();
"use strict";var googleMap=function(){function e(){p=new google.maps.DirectionsService,g=new google.maps.DirectionsRenderer({suppressMarkers:!0,preserveViewport:!0}),s=new google.maps.Map(document.getElementById("map"),{center:{lat:d,lng:u},gestureHandling:"cooperative",scrollwheel:!1,mapTypeControl:!1,zoom:12,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]}),g.setMap(s),g.setPanel(v),i=new google.maps.InfoWindow,navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude},o=new google.maps.Marker({map:s,position:t,animation:google.maps.Animation.DROP,icon:"icons/cross.svg"});i.setPosition(t),i.setContent("Starting point"),i.open(s),s.setCenter(t),a=t,google.maps.event.addListener(o,"click",function(){i.setPosition(t),i.setContent("Starting point"),i.open(s)});var n={location:s.getCenter(),rankBy:google.maps.places.RankBy.DISTANCE,types:["cemetery","funeral_home"]};c=new google.maps.places.PlacesService(s),c.nearbySearch(n,r)},function(){t(!0,i,s.getCenter())}):t(!1,i,s.getCenter()),y=document.getElementById("legend"),m=document.createElement("div"),m.innerHTML='<img src="icons/cross.svg"> Starting point',m.innerHTML+='<img src="icons/hand.svg"> Zombie zone',y.appendChild(m),s.controls[google.maps.ControlPosition.TOP_LEFT].push(y)}function t(e,t,o){t.setPosition(o),t.setContent(e?"Error: The Geolocation service failed. Make sure you have enabled geolocation/location services on your device.":"Error: Your browser doesn't support geolocation."),t.open(s)}function o(){n(p,g)}function n(e,t){e.route({origin:a,destination:document.getElementById("find").value,travelMode:"WALKING"},function(e,o){"OK"===o?(t.setDirections(e),f.className="minimize",v.className="visible"):window.alert("Directions request failed due to "+o)})}function r(e,t){if(t!==google.maps.places.PlacesServiceStatus.OK)return void console.error(t);for(var o=0;o<e.length;o++)l(e[o])}function l(e){var t=new google.maps.Marker({map:s,position:e.geometry.location,icon:"icons/hand.svg"});google.maps.event.addListener(t,"click",function(){var t="<h3>"+e.name+"</h3>";t+="<p>"+e.vicinity+"</p>",t+='<button id="find" value="'+e.vicinity+'">Lead me here</button>',i.setContent(t),i.open(s,this),document.getElementById("find").addEventListener("click",o)})}var s,i,a,c,p,g,y,m,d=59.346027,u=18.058272,f=document.getElementById("main-container"),v=document.getElementById("right-panel");return v.addEventListener("click",function(){v.className="right-panel",f.className=""}),{init:function(){return e()}}}();